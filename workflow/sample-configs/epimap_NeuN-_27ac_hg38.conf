
working-dir = "epimap/H3K27ac-NeuN-"
google {
  bucket = "wenglab-data-common"
  project-id = "devenv-215523"
  regions = ["us-east1", "us-east4"]
  job-completion-poll-interval = 30
  log-upload-interval = 30
}

params {
  replicates-ip {
    -type = "model.MergedFastqSamplesPE"
    replicates = [
      {
        name = "epimap_H3K27ac_HBCC_PFC_381_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_381_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_381_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_381_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_381_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_339_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_339_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_339_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_339_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_339_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_377_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_377_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_377_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_377_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_377_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_384_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_384_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_384_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_384_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_384_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_361_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_361_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_361_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_361_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_361_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_357_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_357_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_357_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_357_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_357_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_343_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_343_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_343_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_343_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_343_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_351_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_351_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_351_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_351_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_351_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_355_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_355_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_355_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_355_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_355_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_349_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_349_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_349_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_349_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_349_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_353_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_353_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_353_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_353_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_353_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_345_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_345_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_345_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_345_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_345_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_375_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_375_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_375_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_375_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_375_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_359_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_359_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_359_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_359_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_359_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_373_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_373_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_373_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_373_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_373_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_369_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_369_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_369_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_369_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_369_D.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_HBCC_PFC_341_D"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_341_D.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_341_D.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_341_D.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_341_D.R2.fastq.gz"
        }
      } ]
  }
  replicates-ctrl {
    -type = "model.MergedFastqSamplesPE"
    replicates = [
      {
        name = "epimap_H3K27ac_Input_HBCC_PFC_381_Neg_IN"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_381_Neg_IN.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_381_Neg_IN.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_381_Neg_IN.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_381_Neg_IN.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_Input_HBCC_PFC_384_Neg_IN"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_384_Neg_IN.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_384_Neg_IN.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_384_Neg_IN.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_384_Neg_IN.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_Input_HBCC_PFC_345_Neg_IN"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_345_Neg_IN.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_345_Neg_IN.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_345_Neg_IN.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_345_Neg_IN.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_Input_HBCC_PFC_369_Neg_IN"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_369_Neg_IN.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_369_Neg_IN.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_369_Neg_IN.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_369_Neg_IN.R2.fastq.gz"
        }
      },
      {
        name = "epimap_H3K27ac_Input_HBCC_PFC_341_Neg_IN"
        merged-r1 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_341_Neg_IN.R1.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_341_Neg_IN.R1.fastq.gz"
        }
        merged-r2 = {
          -type = "krews.file.GSInputFile"
          path = "H3K27ac-NeuN-/HBCC_PFC_341_Neg_IN.R2.fastq.gz"
          bucket = "wenglab-data-common"
          object-path = "epimap-input/H3K27ac-NeuN-/HBCC_PFC_341_Neg_IN.R2.fastq.gz"
        }
      } ]
  }

}

task.align-ips {
  google {
    machine-type = "n1-standard-16"
    disk-type = HDD

  }
  params {
    idx-tar {
      -type = "krews.file.GSInputFile"
      path = "GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta.tar"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta.tar"
    }
  }

}
task.align-controls {
  google {
    machine-type = "n1-standard-16"
    disk-type = HDD

  }
  params {
    idx-tar {
      -type = "krews.file.GSInputFile"
      path = "GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta.tar"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta.tar"
    }
  }

}
task.filter-ips {
  google {
    machine-type = "n1-standard-64"
    disk-type = HDD

  }
}
task.filter-controls {
  google {
    machine-type = "n1-standard-64"
    disk-type = HDD

  }
}
task.bam2ta-ips {
  google {
    machine-type = "n1-standard-64"
    disk-type = HDD
  }
}
task.bam2ta-controls {
  google {
    machine-type = "n1-standard-64"
    disk-type = HDD
  }
}
task.bam2ta-ips-nofilt {
  google {
    machine-type = "n1-standard-64"
    disk-type = HDD

  }
}

task.xcor-ta {
  google {
    machine-type = "n1-standard-16"
    disk-type = HDD

  }
}
task.macs2 {
  params {
    blacklist {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.blacklist.bed.gz"
      path = "hg38.blacklist.bed.gz"
    }
    chrsz {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.chrom.sizes"
      path = "hg38.chrom.sizes"
    }
  }
  google {
    machine-type = "n1-highmem-8"
    disk-size = 1 TB
  }
}


task.macs2-pr1 {
  params {
    blacklist {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.blacklist.bed.gz"
      path = "hg38.blacklist.bed.gz"
    }
    chrsz {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.chrom.sizes"
      path = "hg38.chrom.sizes"
    }
  }
  google {
    machine-type = "n1-highmem-8"
    disk-size = 1 TB
  }
}

task.macs2-pr2 {
  params {
    blacklist {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.blacklist.bed.gz"
      path = "hg38.blacklist.bed.gz"
    }
    chrsz {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.chrom.sizes"
      path = "hg38.chrom.sizes"
    }
  }
  google {
    machine-type = "n1-highmem-8"
    disk-size = 1 TB
  }
}
task.overlap-pr {
  params {
    blacklist {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.blacklist.bed.gz"
      path = "hg38.blacklist.bed.gz"
    }
    chrsz {
      -type = "krews.file.GSInputFile"
      bucket = "wenglab-data-common"
      object-path = "epimap-input/hg38.chrom.sizes"
      path = "hg38.chrom.sizes"
    }
  }
  google {
    machine-type = "n1-standard-16"
    disk-type = HDD

  }
}